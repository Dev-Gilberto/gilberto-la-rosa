---
import "@styles/BlogPosts.css";
import Layout from "@layout/Layout.astro";
import { slugify, formatpubDate } from "@assets/js/utils";
import SocialNetwork from "@components/SocialNetwork.astro";
import ButtonBack from "@components/ButtonBack.astro";
import Frases from "@components/Frases.astro";
import Share from "@components/Share.astro";

const { frontmatter } = Astro.props;

const { title, emojis, pubDate, author, tags } = frontmatter;
---

<Layout {title}>
  <section class="w-[97%] mx-auto my-8 md:w-3/5">
    <article>
      <div class="text-3xl md:text-7xl font-[Antonio] font-bold uppercase mb-4">
        <h1 class="inline">
          {title}
        </h1>{emojis}
      </div>
      <!-- category -->
      <section>
        <small class="flex flex-wrap mb-4">
          <a
            class="uppercase font-medium py-1 px-4 rounded border-b-2 border-[#f79533] tracking-wider bg-white hover:border-transparent duration-150"
            href={`/tags/${slugify(tags)}`}>{tags}</a
          >
        </small>
      </section>
      <!-- Autor -->
      <section>
        <p class="text-lg flex flex-col items-center">
          Escrito por: <br />
          <span
            class="flex gap-1 items-center font-[Antonio] font-bold text-3xl"
          >
            <img
              src="/AVATAR-GILBERTO.jpg"
              alt="Gilberto La Rosa"
              class="w-12 rounded-full"
            />
            {author}</span
          >
        </p>
        <SocialNetwork />
      </section>
      <!-- divide whit fecha -->
      <span class="flex items-center my-10">
        <span class="h-px flex-1 bg-[#212121]"></span>
        <span class="shrink-0 px-6 text-lg font-bold"
          >{formatpubDate(pubDate)}</span
        >
        <span class="h-px flex-1 bg-[#212121]"></span>
      </span>

      <!-- content -->
      <slot />
    </article>
    <!-- divide whit rrss -->
    <span class="flex items-center my-10">
      <span class="h-px flex-1 bg-[#212121]"></span>
      <span class="shrink-0 px-6"><SocialNetwork /></span>
      <span class="h-px flex-1 bg-[#212121]"></span>
    </span>
    <Frases />
  </section>
  <section class="flex justify-between w-[90%] md:w-[60%] mx-auto my-8">
    <Share />
    <ButtonBack />
  </section>
</Layout>
